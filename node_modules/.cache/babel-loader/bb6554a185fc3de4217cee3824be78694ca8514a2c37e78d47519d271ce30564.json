{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Swal from \"sweetalert2\";\nimport axios from \"axios\";\nimport AppbarUser from \"./AppbarUser.vue\";\nexport default {\n  components: {\n    AppbarUser\n  },\n  data: () => ({\n    menuName: \"\",\n    details: \"\",\n    ingredient: \"\",\n    gastronomy: \"\",\n    selectedMenuType: \"\",\n    items: [{\n      value: 1,\n      text: \"ต้ม\"\n    }, {\n      value: 2,\n      text: \"ผัด\"\n    }, {\n      value: 3,\n      text: \"ทอด\"\n    }, {\n      value: 4,\n      text: \"ยำ\"\n    }]\n  }),\n  methods: {\n    async registerMenu() {\n      try {\n        console.log(\"selectedMenuType:\", this.selectedMenuType);\n        const memberId = JSON.parse(localStorage.getItem(\"dataUser\")).memberId;\n        const data = {\n          nameMenu: this.menuName,\n          detailMenu: this.details,\n          ingerMenu: this.ingredient,\n          gastroMenu: this.gastronomy,\n          menuType: {\n            menuTypeId: this.selectedMenuType\n          },\n          member: {\n            memberId: memberId\n          }\n        };\n        console.log(\"Data to be sent:\", data);\n        const confirmResult = await Swal.fire({\n          title: \"ยืนยันการเพิ่มเมนูนี้ใช่หรือไม่\",\n          text: \"กดยืนยันเพื่อเพิ่มเมนู\",\n          icon: \"question\",\n          showCancelButton: true,\n          confirmButtonText: \"ยืนยัน\",\n          cancelButtonText: \"ยกเลิก\"\n        });\n        if (confirmResult.isConfirmed) {\n          const response = await axios.post(\"http://localhost:9001/menu\", data);\n          console.log(response);\n          if (response.status === 201) {\n            await Swal.fire({\n              title: \"เพิ่มเมนูสำเร็จ!\",\n              icon: \"success\"\n            });\n            this.$router.push(\"/editfood\");\n          }\n        }\n      } catch (error) {\n        await Swal.fire({\n          title: \"เพิ่มเมนูไม่สำเร็จ\",\n          text: \"เกิดปัญหาในการเพิ่มเมนู\",\n          icon: \"error\",\n          timer: 1000\n        });\n        console.error(\"Error data:\", error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["Swal","axios","AppbarUser","components","data","menuName","details","ingredient","gastronomy","selectedMenuType","items","value","text","methods","registerMenu","console","log","memberId","JSON","parse","localStorage","getItem","nameMenu","detailMenu","ingerMenu","gastroMenu","menuType","menuTypeId","member","confirmResult","fire","title","icon","showCancelButton","confirmButtonText","cancelButtonText","isConfirmed","response","post","status","$router","push","error","timer"],"sources":["src/components/Addmenu.vue"],"sourcesContent":["<template>\r\n  <div style=\"background-color: #e0f2f1; height: 100%\">\r\n    <AppbarUser />\r\n    <div>\r\n      <div>\r\n        <div\r\n          style=\"\r\n            display: flex;\r\n            justify-content: center;\r\n            align-items: center;\r\n            padding-top: 40px;\r\n            font-size: 30px;\r\n          \"\r\n        >\r\n          เพิ่มรายการอาหาร\r\n        </div>\r\n\r\n        <div\r\n          style=\"display: flex; justify-content: center; align-items: center\"\r\n        >\r\n          <div>\r\n            <v-card\r\n              class=\"card-login\"\r\n              style=\"\r\n                width: 700px;\r\n                height: 660px;\r\n                display: flex;\r\n                flex-direction: column;\r\n                align-items: center;\r\n                margin-bottom: 40px;\r\n                margin-top: 40px;\r\n              \"\r\n            >\r\n              <v-card-text>\r\n                <v-form\r\n                  ref=\"LoginForm\"\r\n                  v-model=\"valid\"\r\n                  lazy-validation\r\n                  style=\"margin-top: 10px\"\r\n                >\r\n                  <v-text-field\r\n                    v-model=\"menuName\"\r\n                    label=\"ชื่ออาหาร\"\r\n                    required\r\n                    outlined\r\n                  ></v-text-field>\r\n\r\n                  <v-textarea\r\n                    outlined\r\n                    name=\"details\"\r\n                    label=\"รายละเอียด\"\r\n                    v-model=\"details\"\r\n                    rows=\"3\"\r\n                    row-height=\"25\"\r\n                  ></v-textarea>\r\n                  <v-textarea\r\n                    outlined\r\n                    name=\"ingredient \"\r\n                    v-model=\"ingredient\"\r\n                    label=\"ส่วนประกอบ\"\r\n                    value=\"\"\r\n                    rows=\"3\"\r\n                    row-height=\"25\"\r\n                  ></v-textarea>\r\n                  <v-textarea\r\n                    outlined\r\n                    v-model=\"gastronomy\"\r\n                    name=\"gastronomy  \"\r\n                    label=\"วิธีทำ\"\r\n                    value=\"\"\r\n                    rows=\"3\"\r\n                    row-height=\"25\"\r\n                  ></v-textarea>\r\n                  <v-select\r\n                    v-model=\"selectedMenuType\"\r\n                    :items=\"items\"\r\n                    label=\"ประเภทอาหาร\"\r\n                    outlined\r\n                  ></v-select>\r\n                  <div\r\n                    style=\"\r\n                      display: flex;\r\n                      justify-content: center;\r\n                      align-items: center;\r\n                    \"\r\n                  >\r\n                    <v-btn color=\"success\" @click=\"registerMenu\">บันทึก</v-btn>\r\n                  </div>\r\n                </v-form>\r\n              </v-card-text>\r\n            </v-card>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n  \r\n  \r\n  \r\n  <script>\r\nimport Swal from \"sweetalert2\";\r\nimport axios from \"axios\";\r\nimport AppbarUser from \"./AppbarUser.vue\";\r\nexport default {\r\n  components: {\r\n    AppbarUser,\r\n  },\r\n  data: () => ({\r\n    menuName: \"\",\r\n    details: \"\",\r\n    ingredient: \"\",\r\n    gastronomy: \"\",\r\n    selectedMenuType: \"\",\r\n\r\n    items: [\r\n      { value: 1, text: \"ต้ม\" },\r\n      { value: 2, text: \"ผัด\" },\r\n      { value: 3, text: \"ทอด\" },\r\n      { value: 4, text: \"ยำ\" },\r\n    ],\r\n  }),\r\n  methods: {\r\n    async registerMenu() {\r\n      try {\r\n        console.log(\"selectedMenuType:\", this.selectedMenuType);\r\n        const memberId = JSON.parse(localStorage.getItem(\"dataUser\")).memberId;\r\n        const data = {\r\n          nameMenu: this.menuName,\r\n          detailMenu: this.details,\r\n          ingerMenu: this.ingredient,\r\n          gastroMenu: this.gastronomy,\r\n          menuType: { menuTypeId: this.selectedMenuType },\r\n          member: { memberId: memberId },\r\n        };\r\n        console.log(\"Data to be sent:\", data);\r\n\r\n       \r\n        const confirmResult = await Swal.fire({\r\n          title: \"ยืนยันการเพิ่มเมนูนี้ใช่หรือไม่\",\r\n          text: \"กดยืนยันเพื่อเพิ่มเมนู\",\r\n          icon: \"question\",\r\n          showCancelButton: true,\r\n          confirmButtonText: \"ยืนยัน\",\r\n          cancelButtonText: \"ยกเลิก\",\r\n        });\r\n\r\n        if (confirmResult.isConfirmed) {\r\n          const response = await axios.post(\"http://localhost:9001/menu\", data);\r\n          console.log(response);\r\n          if (response.status === 201) {\r\n            await Swal.fire({\r\n              title: \"เพิ่มเมนูสำเร็จ!\",\r\n              icon: \"success\",\r\n            });\r\n            this.$router.push(\"/editfood\");\r\n          }\r\n        }\r\n      } catch (error) {\r\n        await Swal.fire({\r\n          title: \"เพิ่มเมนูไม่สำเร็จ\",\r\n          text: \"เกิดปัญหาในการเพิ่มเมนู\",\r\n          icon: \"error\",\r\n          timer: 1000,\r\n          \r\n        });\r\n        console.error(\"Error data:\", error);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n  "],"mappings":";AAqGA,OAAAA,IAAA;AACA,OAAAC,KAAA;AACA,OAAAC,UAAA;AACA;EACAC,UAAA;IACAD;EACA;EACAE,IAAA,EAAAA,CAAA;IACAC,QAAA;IACAC,OAAA;IACAC,UAAA;IACAC,UAAA;IACAC,gBAAA;IAEAC,KAAA,GACA;MAAAC,KAAA;MAAAC,IAAA;IAAA,GACA;MAAAD,KAAA;MAAAC,IAAA;IAAA,GACA;MAAAD,KAAA;MAAAC,IAAA;IAAA,GACA;MAAAD,KAAA;MAAAC,IAAA;IAAA;EAEA;EACAC,OAAA;IACA,MAAAC,aAAA;MACA;QACAC,OAAA,CAAAC,GAAA,2BAAAP,gBAAA;QACA,MAAAQ,QAAA,GAAAC,IAAA,CAAAC,KAAA,CAAAC,YAAA,CAAAC,OAAA,cAAAJ,QAAA;QACA,MAAAb,IAAA;UACAkB,QAAA,OAAAjB,QAAA;UACAkB,UAAA,OAAAjB,OAAA;UACAkB,SAAA,OAAAjB,UAAA;UACAkB,UAAA,OAAAjB,UAAA;UACAkB,QAAA;YAAAC,UAAA,OAAAlB;UAAA;UACAmB,MAAA;YAAAX,QAAA,EAAAA;UAAA;QACA;QACAF,OAAA,CAAAC,GAAA,qBAAAZ,IAAA;QAGA,MAAAyB,aAAA,SAAA7B,IAAA,CAAA8B,IAAA;UACAC,KAAA;UACAnB,IAAA;UACAoB,IAAA;UACAC,gBAAA;UACAC,iBAAA;UACAC,gBAAA;QACA;QAEA,IAAAN,aAAA,CAAAO,WAAA;UACA,MAAAC,QAAA,SAAApC,KAAA,CAAAqC,IAAA,+BAAAlC,IAAA;UACAW,OAAA,CAAAC,GAAA,CAAAqB,QAAA;UACA,IAAAA,QAAA,CAAAE,MAAA;YACA,MAAAvC,IAAA,CAAA8B,IAAA;cACAC,KAAA;cACAC,IAAA;YACA;YACA,KAAAQ,OAAA,CAAAC,IAAA;UACA;QACA;MACA,SAAAC,KAAA;QACA,MAAA1C,IAAA,CAAA8B,IAAA;UACAC,KAAA;UACAnB,IAAA;UACAoB,IAAA;UACAW,KAAA;QAEA;QACA5B,OAAA,CAAA2B,KAAA,gBAAAA,KAAA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}